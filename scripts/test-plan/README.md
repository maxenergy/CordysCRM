# CRM 系统测试计划

## 概述

本测试计划用于验证 CRM 系统的核心功能，包括企业搜索、企业导入、客户管理、AI 功能等。

## 测试环境

- 后端：Spring Boot 应用
- 前端：Vue3 Web 应用
- 移动端：Flutter 应用
- 数据库：MySQL
- 第三方集成：企查查

## 测试用户

| 序号 | 用户名（手机号） | 密码 | 角色 | 备注 |
|------|------------------|------|------|------|
| 1 | 13902213704 | Cordys@2024 | 销售经理 | 企查查会员 |
| 2 | 18911537991 | Cordys@2024 | 销售专员 | 企查查会员 |
| 3 | 15510322935 | Cordys@2024 | 销售专员 | 企查查会员 |
| 4 | 13762420030 | Cordys@2024 | 销售专员 | 企查查会员 |
| 5 | 18942021073 | Cordys@2024 | 销售专员 | 企查查会员 |
| 6 | 13716013451 | Cordys@2024 | 组织管理员 | 企查查会员 |

## 测试模块

### 1. 账号与登录 (P0)

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|--------|----------|----------|----------|----------|
| AUTH-001 | 手机号登录 | 用户已创建 | 1. 输入手机号和密码<br>2. 点击登录 | 登录成功，跳转首页 |
| AUTH-002 | 密码错误 | 用户已创建 | 1. 输入手机号<br>2. 输入错误密码<br>3. 点击登录 | 提示密码错误 |
| AUTH-003 | 退出登录 | 用户已登录 | 1. 点击退出登录 | 跳转登录页，token 失效 |
| AUTH-004 | 权限校验 | 用户已登录 | 1. 访问无权限菜单 | 返回 403 或菜单不可见 |

### 2. 企业搜索 (P0)

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|--------|----------|----------|----------|----------|
| SEARCH-001 | 精确搜索 | 已登录，企查查会员有效 | 1. 输入完整企业名称<br>2. 点击搜索 | 返回匹配企业，显示核心字段 |
| SEARCH-002 | 模糊搜索 | 已登录 | 1. 输入企业关键字<br>2. 点击搜索 | 返回相关企业列表 |
| SEARCH-003 | 无结果搜索 | 已登录 | 1. 输入不存在的企业名<br>2. 点击搜索 | 显示"未找到相关企业" |
| SEARCH-004 | 企业详情 | 搜索结果存在 | 1. 点击搜索结果项 | 显示企业详情预览 |
| SEARCH-005 | 本地搜索 | 已导入企业 | 1. 搜索已导入的企业 | 优先显示本地数据 |

### 3. 企业导入 (P0)

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|--------|----------|----------|----------|----------|
| IMPORT-001 | 正常导入 | 搜索到企业 | 1. 点击企业<br>2. 确认导入 | 导入成功，客户列表可见 |
| IMPORT-002 | 重复导入 | 企业已导入 | 1. 再次导入同一企业 | 提示已存在或更新 |
| IMPORT-003 | 字段映射 | 搜索到企业 | 1. 导入企业<br>2. 查看客户详情 | 字段正确映射 |

### 4. 客户管理 (P0)

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|--------|----------|----------|----------|----------|
| CUST-001 | 客户列表 | 已导入客户 | 1. 进入客户列表 | 显示客户列表 |
| CUST-002 | 客户详情 | 客户存在 | 1. 点击客户 | 显示客户详情 |
| CUST-003 | 编辑客户 | 客户存在 | 1. 编辑客户信息<br>2. 保存 | 保存成功 |
| CUST-004 | 跟进记录 | 客户存在 | 1. 添加跟进记录 | 记录保存成功 |
| CUST-005 | 客户筛选 | 客户存在 | 1. 使用筛选条件 | 筛选结果正确 |

### 5. AI 功能 (P1)

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|--------|----------|----------|----------|----------|
| AI-001 | 生成话术 | 客户存在 | 1. 选择客户<br>2. 生成话术 | 返回话术内容 |
| AI-002 | 客户画像 | 客户存在 | 1. 查看客户画像 | 显示画像信息 |
| AI-003 | 话术编辑 | 话术已生成 | 1. 编辑话术<br>2. 保存 | 保存成功 |

### 6. 移动端功能 (P0)

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|--------|----------|----------|----------|----------|
| MOB-001 | 移动端登录 | 用户已创建 | 1. 打开 App<br>2. 输入账号密码<br>3. 登录 | 登录成功 |
| MOB-002 | 企业搜索 | 已登录 | 1. 进入企业搜索<br>2. 输入关键字 | 显示搜索结果 |
| MOB-003 | 企业导入 | 搜索到企业 | 1. 点击企业<br>2. 确认导入 | 导入成功 |
| MOB-004 | 客户列表 | 已导入客户 | 1. 进入客户列表 | 显示客户 |
| MOB-005 | 数据同步 | 已登录 | 1. 下拉刷新 | 数据同步成功 |

### 7. 权限与数据隔离 (P0)

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|--------|----------|----------|----------|----------|
| PERM-001 | 销售专员数据隔离 | 两个销售专员登录 | 1. 用户A创建客户<br>2. 用户B查看客户列表 | 用户B看不到用户A的客户 |
| PERM-002 | 销售经理数据可见 | 销售经理登录 | 1. 查看下属客户 | 可见下属所有客户 |
| PERM-003 | 越权访问 | 销售专员登录 | 1. 直接访问他人客户API | 返回 403 |
| PERM-004 | 组织管理员权限 | 组织管理员登录 | 1. 访问系统设置 | 可访问 |

### 8. 异常与边界 (P1)

| 用例ID | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|--------|----------|----------|----------|----------|
| ERR-001 | 企查查鉴权失败 | 未登录企查查 | 1. 搜索企业 | 提示需要登录 |
| ERR-002 | 网络超时 | 模拟网络慢 | 1. 搜索企业 | 显示超时提示 |
| ERR-003 | 重复导入 | 企业已导入 | 1. 再次导入同一企业 | 提示已存在或更新 |
| ERR-004 | 空数据处理 | 无客户数据 | 1. 查看客户列表 | 显示空态，无占位符 |

## 测试数据准备

### 推荐搜索的企业（用于测试）

1. 腾讯科技（深圳）有限公司
2. 阿里巴巴（中国）有限公司
3. 华为技术有限公司
4. 字节跳动有限公司
5. 小米科技有限责任公司
6. 百度在线网络技术（北京）有限公司
7. 京东世纪贸易有限公司
8. 美团科技有限公司
9. 网易（杭州）网络有限公司
10. 滴滴出行科技有限公司

## 执行顺序

1. 执行数据清理脚本
2. 执行用户创建脚本
3. 重启后端服务
4. 按 P0 -> P1 -> P2 顺序执行测试用例
5. 记录测试结果

## 问题记录模板

| 问题ID | 模块 | 描述 | 复现步骤 | 优先级 | 状态 |
|--------|------|------|----------|--------|------|
| | | | | | |
